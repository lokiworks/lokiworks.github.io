<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Loki Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Loki Blog Atom Feed"><title data-react-helmet="true">Blog | Loki</title><meta data-react-helmet="true" property="og:title" content="Blog | Loki"><meta data-react-helmet="true" name="description" content="Blog"><meta data-react-helmet="true" property="og:description" content="Blog"><meta data-react-helmet="true" property="og:url" content="https://lokiworks.github.io/blog"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="blog_posts_list"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://lokiworks.github.io/blog"><link data-react-helmet="true" rel="alternate" href="https://lokiworks.github.io/blog" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://lokiworks.github.io/blog" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.06ddfc87.css">
<link rel="preload" href="/assets/js/runtime~main.90d50ffe.js" as="script">
<link rel="preload" href="/assets/js/main.76acd87f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Loki</b></a><a class="navbar__item navbar__link" href="/docs/doc1">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lokiworks/lokiworks.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-list-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/git-engineering-practices">Gitå·¥ç¨‹å®è·µ</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/database-version-management">æ•°æ®åº“è„šæœ¬ç‰ˆæœ¬ç®¡ç†å·¥ç¨‹å®è·µ</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/how-to-read-sourcecode">å¦‚ä½•é˜…è¯»æºç </a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/build-monorepo">æ„å»ºå•ä½“ä»“åº“</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/software-design">è½¯ä»¶è®¾è®¡</a></li></ul></nav></aside><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="blogPostTitle_GeHD"><a href="/blog/git-engineering-practices">Gitå·¥ç¨‹å®è·µ</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2020-12-26T00:00:00.000Z">December 26, 2020</time> Â· 3 min read</div><div class="avatar margin-vert--md"><a href="https://lokiworks.github.io" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars1.githubusercontent.com/u/16199375?v=4" alt="Loki"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://lokiworks.github.io" target="_blank" rel="noopener noreferrer">Loki</a></div><small class="avatar__subtitle">SE</small></div></div></header><div class="markdown"><p>åœ¨<a href="https://api.github.com/users/lokiworks" target="_blank" rel="noopener noreferrer">2015å¹´12æœˆ8å·</a>çš„æ—¶å€™ï¼Œæ³¨å†Œäº†githubã€‚æ­£æ˜¯é€šè¿‡githubæ¥è§¦äº†gitï¼Œé‚£æ—¶å¯¹äºæˆ‘è€Œè¨€ï¼Œåªæ˜¯è§‰å¾—ä»ä¸€ä¸ª<a href="https://tortoisesvn.net/" target="_blank" rel="noopener noreferrer">svnå·¥å…·</a>åˆ‡æ¢åˆ°å¦å¤–ä¸€ä¸ª<a href="https://tortoisegit.org/" target="_blank" rel="noopener noreferrer">gitå·¥å…·</a>ï¼Œä½¿ç”¨ä¸Šå¹¶æ— å¤ªå¤§çš„å·®åˆ«ã€‚åæœŸä½¿ç”¨çš„è¿‡ç¨‹ä¸­è¸©è¿‡ä¸€äº›å‘ï¼Œé€šè¿‡å®˜æ–¹çš„æ•™ç¨‹ï¼Œå­¦ä¹ äº†gitå†…éƒ¨çš„åŸç†ï¼Œé€šè¿‡åšå®éªŒæ…¢æ…¢çš„åŠ æ·±äº†å¯¹gitçš„ç†è§£ã€‚è¿™é‡Œå°†ä¸€äº›ç»éªŒä¸Šçš„æ€»ç»“ã€å®è·µåˆ†äº«å‡ºæ¥ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©å„ä½åœ¨gitçš„å­¦ä¹ ä¹‹è·¯ä¸Šå°‘èµ°äº›å¼¯è·¯ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä¸»è¦ç‰¹æ€§"></a>ä¸»è¦ç‰¹æ€§<a class="hash-link" href="#ä¸»è¦ç‰¹æ€§" title="Direct link to heading">#</a></h2><ul><li><strong>åŸºäºå¿«ç…§çš„ç‰ˆæœ¬ç®¡ç†</strong></li></ul><ol><li><p>æœ¬åœ°æ­å»ºå®éªŒç¯å¢ƒï¼Œæ–°å»ºä¸€ä¸ªç©ºçš„æ–‡ä»¶å¤¹testï¼Œåœ¨è¯¥ç›®å½•ä¸‹åˆå§‹åŒ–ç©ºçš„gité¡¹ç›®ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mkdir test; cd test; git init</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>æ–°å»ºh.txtï¼Œå°†hello worldå†™å…¥åˆ°h.txtä¸­</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;hello world&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;&gt;</span><span class="token plain"> h.txt</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>æ·»åŠ æ–‡ä»¶å¹¶æäº¤ä»£ç </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;feat: add h.txt&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>è¿½åŠ hello worldåˆ°h.txtä¸­</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;hello world&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;&gt;</span><span class="token plain"> h.txt</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>æäº¤ä»£ç </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> commit -am </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;feat: modify h.txt&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>æŸ¥çœ‹æ–‡ä»¶h.txtçš„æäº¤è®°å½•</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> log --pretty</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">oneline h.tx</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># æ—¥å¿—å±•ç¤ºçš„å†…å®¹å¦‚ä¸‹ï¼š</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># 7fa1b21d9b0defe1c2feb8be7bfc3e662bcc31a9 (HEAD -&gt; master) feat: modify h.txt</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># aa56da444f61cec3a80e231c8b9d66cd75dd8f2b feat: add h.txt</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>æŸ¥çœ‹h.txtç¬¬äºŒæ¬¡æäº¤çš„æ–‡ä»¶å†…å®¹</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> cat-file -p 7fa1b21d9b0defe1c2feb8be7bfc3e662bcc31a9</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># commit hash</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> cat-file -p bb0ae28448e6c19fdbe294df1a518edd92cdf7f8</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># tree hash</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> cat-file -p 10bda51843e912c86901eea164d0b3f7c9a56df3</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># blob hash</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># h.txtæ–‡ä»¶çš„å†…å®¹</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># hello world</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># hello world</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li></ol><ol start="8"><li><p>æŸ¥çœ‹h.txtç¬¬ä¸€æ¬¡æäº¤çš„æ–‡ä»¶å†…å®¹</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> cat-file -p aa56da444f61cec3a80e231c8b9d66cd75dd8f2b</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># commit hash</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> cat-file -p 5ee620adb265fa7cb43f76e641da23cec27cd4d9</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># tree hash</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> cat-file -p 3b18e512dba79e4c8300dd08aeb37f8e728b8dad</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># blob hash</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># h.txtæ–‡ä»¶çš„å†…å®¹</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># hello world </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>é€šè¿‡ä¸Šè¿°å‡ æ­¥çš„å®éªŒæ“ä½œï¼Œå¯ä»¥åŠ æ·±å¯¹gitå¿«ç…§ç‰¹æ€§çš„ç†è§£ã€‚è¿™é‡Œç•™ä¸ªä»»åŠ¡ç»™å„ä½</p><blockquote><p>æ–°å»ºä¸€ä¸ªç©ºçš„gité¡¹ç›®ï¼Œæ·»åŠ ä¸€ä¸ª50Må·¦å³çš„æ–‡ä»¶å¹¶æäº¤ï¼Œä¹‹ååœ¨è¯¥æ–‡ä»¶çš„æœ«å°¾å‡ºæ–°å¢ä¸€è¡Œè®°å½•å¹¶æäº¤ã€‚æ ¹æ®gitå¿«ç…§çš„ç‰¹æ€§ï¼Œä¸¤æ¬¡æäº¤åï¼Œæ€»çš„å¤§å°åº”è¯¥å¤§äºç­‰äº100Mï¼Œé€šè¿‡å‘½ä»¤<code>du -sh &lt;gité¡¹ç›®å&gt;</code>æŸ¥çœ‹è¯¥é¡¹ç›®æ€»çš„å¤§å° ï¼Œæ˜¯å¦è·Ÿä½ æƒ³çš„ä¸€æ ·ï¼Ÿå¦‚æœä¸æ˜¯ï¼Œgitæ˜¯å¦‚ä½•å¤„ç†çš„ã€‚</p></blockquote></li></ol><ul><li><p><strong>å¯ç¦»çº¿å¼€å‘</strong></p><p>è¿™æ˜¯gitåŒºåˆ«svnçš„ä¸»è¦ç‰¹æ€§ä¹‹ä¸€ï¼Œé€šè¿‡<code>git help</code>åˆ—å‡ºå¸¸ç”¨çš„å‘½ä»¤ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">These are common Git commands used </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> various situations:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">start a working area </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">see also: </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">help</span><span class="token plain"> tutorial</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   clone             Clone a repository into a new directory</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   init              Create an empty Git repository or reinitialize an existing one</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">work on the current change </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">see also: </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">help</span><span class="token plain"> everyday</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain">               Add </span><span class="token function" style="color:rgb(130, 170, 255)">file</span><span class="token plain"> contents to the index</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token function" style="color:rgb(130, 170, 255)">mv</span><span class="token plain">                Move or </span><span class="token function" style="color:rgb(130, 170, 255)">rename</span><span class="token plain"> a file, a directory, or a symlink</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   restore           Restore working tree files</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain">                Remove files from the working tree and from the index</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   sparse-checkout   Initialize and modify the sparse-checkout</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">examine the </span><span class="token function" style="color:rgb(130, 170, 255)">history</span><span class="token plain"> and state </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">see also: </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">help</span><span class="token plain"> revisions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   bisect            Use binary search to </span><span class="token function" style="color:rgb(130, 170, 255)">find</span><span class="token plain"> the commit that introduced a bug</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token function" style="color:rgb(130, 170, 255)">diff</span><span class="token plain">              Show changes between commits, commit and working tree, etc</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain">              Print lines matching a pattern</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   log               Show commit logs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   show              Show various types of objects</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   status            Show the working tree status</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">grow, mark and tweak your common </span><span class="token function" style="color:rgb(130, 170, 255)">history</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   branch            List, create, or delete branches</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   commit            Record changes to the repository</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   merge             Join two or </span><span class="token function" style="color:rgb(130, 170, 255)">more</span><span class="token plain"> development histories together</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rebase            Reapply commits on </span><span class="token function" style="color:rgb(130, 170, 255)">top</span><span class="token plain"> of another base tip</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   reset             Reset current HEAD to the specified state</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   switch            Switch branches</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   tag               Create, list, delete or verify a tag object signed with GPG</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">collaborate </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">see also: </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">help</span><span class="token plain"> workflows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   fetch             Download objects and refs from another repository</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   pull              Fetch from and integrate with another repository or a </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">local</span><span class="token plain"> branch</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   push              Update remote refs along with associated objects</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;git help -a&#x27;</span><span class="token plain"> and </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;git help -g&#x27;</span><span class="token plain"> list available subcommands and some</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">concept guides. See </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;git help &lt;command&gt;&#x27;</span><span class="token plain"> or </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;git help &lt;concept&gt;&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">to </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">read</span><span class="token plain"> about a specific subcommand or concept.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">See </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;git help git&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> an overview of the system.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ä¸Šé¢çš„å‘½ä»¤é™¤äº†<code>clone</code>ã€<code>fetch</code>ã€<code>pull</code>ã€<code>push</code>ï¼Œå…¶ä»–çš„å‘½ä»¤éƒ½å¯åœ¨æœ¬åœ°å®Œæˆæ“ä½œã€‚</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç»éªŒæ€»ç»“"></a>ç»éªŒæ€»ç»“<a class="hash-link" href="#ç»éªŒæ€»ç»“" title="Direct link to heading">#</a></h2><ul><li><p><strong>æ…ç”¨GitLabä¸­çš„å†²çªè§£å†³</strong>ï¼Œ é™¤éä½ çŸ¥é“å®ƒçš„å‘½ä»¤ç»„åˆ</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> checkout </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;source branch&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> merge </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;target branch&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p><strong>åªåœ¨å±äºè‡ªå·±çš„åˆ†æ”¯ä¸­æ‰§è¡Œrebase</strong>ï¼Œå¦åˆ™åªä¼šå°†æäº¤å†å²å˜çš„æ›´åŠ æ··ä¹±</p></li><li><p><strong>æ…ç”¨revert</strong>ï¼Œé™¤éä½ çŸ¥é“revertæ˜¯åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šåšäº†ç›¸åçš„æ“ä½œã€‚å¦‚æœæ¢å¤çš„è¯ï¼Œéœ€è¦æ‰§è¡Œ revert revertæ“ä½œ</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å·¥ç¨‹å®è·µ"></a>å·¥ç¨‹å®è·µ<a class="hash-link" href="#å·¥ç¨‹å®è·µ" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å®ç”¨å·¥å…·"></a>å®ç”¨å·¥å…·<a class="hash-link" href="#å®ç”¨å·¥å…·" title="Direct link to heading">#</a></h3><ul><li><a href="https://github.com/tommarshall/git-good-commit" target="_blank" rel="noopener noreferrer">git commit hook</a> é€šè¿‡hookåšä¸€äº›äº‹å‰æ£€æŸ¥ï¼Œæ¯”å¦‚æ£€æŸ¥æäº¤æ˜¯å¦ç¬¦åˆAngularè§„èŒƒ
<img alt="commit-hook" src="/assets/images/commit-hook-9b088ec7b62fdfba2257632b372bf652.gif"></li><li><a href="https://github.com/git-chglog/git-chglog" target="_blank" rel="noopener noreferrer">changelogç”Ÿæˆå™¨</a> é…åˆè‡ªåŠ¨åŒ–å·¥ä½œæµï¼Œè‡ªåŠ¨ç”Ÿæˆchangelog
<img alt="changelog" src="/assets/images/chglog-init-3211eee9a887c1036c01f11095a5cf3a.gif"></li><li><a href="https://github.com/newren/git-filter-repo" target="_blank" rel="noopener noreferrer">rewrite history</a> å¯ä»¥ç”¨æ¥æ›´æ”¹é‚®ç®±åœ°å€ã€åˆ é™¤å¤§æ–‡ä»¶ã€æ‹†åˆ†ç›®å½•ç­‰</li><li><a href="https://github.com/sensorflo/git-draw" target="_blank" rel="noopener noreferrer">draw image </a> é€šè¿‡ç»˜åˆ¶å›¾å½¢çš„æ–¹å¼ï¼Œå¯è§†åŒ–çš„å±•ç¤ºäº†gitå†…éƒ¨çš„ç»“æ„
<img alt="changelog" src="/assets/images/git-draw-ef88db8badce8011c321b85c181972f7.png"></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="åˆ†æ”¯ç­–ç•¥"></a>åˆ†æ”¯ç­–ç•¥<a class="hash-link" href="#åˆ†æ”¯ç­–ç•¥" title="Direct link to heading">#</a></h3><p>å…³äºåˆ†æ”¯æ¨¡å‹æœ€ç†æƒ³çš„æ¨¡å¼ä¸º<strong>trunk based development</strong>ï¼Œå®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­å¾ˆå°‘æœ‰å›¢é˜Ÿèƒ½å¤Ÿåšåˆ°ã€‚å®è·µè¿‡ç¨‹ä¸­æ¯”è¾ƒå¥½çš„åˆ†æ”¯æ¨¡å‹ï¼š<a href="http://bos.itdks.com/7b7b1baa2f1244b8b3c2b3ae26de3eea.pdf" target="_blank" rel="noopener noreferrer">Aoneflow</a>ï¼Œé€šè¿‡å°†å¤šä¸ªç‰¹æ€§åˆ†æ”¯ï¼Œåˆæˆä¸€ä¸ªreleaseçš„æ–¹å¼ï¼Œå®ç°â€œå‡†æŒç»­é›†æˆâ€</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å›é€€æµç¨‹"></a>å›é€€æµç¨‹<a class="hash-link" href="#å›é€€æµç¨‹" title="Direct link to heading">#</a></h3><p>æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶ä¸å°å¿ƒä¼šæ±¡æŸ“äº†<strong>Master</strong>æˆ–è€…<strong>Main</strong>åˆ†æ”¯ã€‚æ­¤æ—¶éœ€è¦ä¸€ç§æ–¹å¼æ¥å›æ»šä»£ç </p><ol><li>gitlabä¸­å°†<strong>Master</strong>æˆ–<strong>Main</strong>åˆ†æ”¯æ”¹æˆéé»˜è®¤åˆ†æ”¯</li><li>åˆ é™¤<strong>Master</strong>æˆ–<strong>Main</strong>åˆ†æ”¯</li><li>ä»å½“å‰ç¨³å®šçš„åˆ†æ”¯ä¸­æ‹‰å‡ºä¸€ä¸ªå…¨æ–°çš„ <strong>Master</strong>æˆ–<strong>Main</strong>åˆ†æ”¯</li><li>å°†<strong>Master</strong>æˆ–<strong>Main</strong>åˆ†æ”¯è®¾ç½®ä¸ºé»˜è®¤åˆ†æ”¯</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æƒé™ç®¡ç†"></a>æƒé™ç®¡ç†<a class="hash-link" href="#æƒé™ç®¡ç†" title="Direct link to heading">#</a></h3><p>ä»£ç ä½œä¸ºè½¯ä»¶ä¼ä¸šçš„æ ¸å¿ƒèµ„äº§ï¼Œæ ¸å¿ƒçš„ç®—æ³•åŠè®¾è®¡æ–¹æ¡ˆä½œä¸ºæ ¸å¿ƒä¸­çš„æ ¸å¿ƒï¼Œåªå…è®¸å°‘éƒ¨åˆ†äººæœ‰æƒé™æŸ¥çœ‹ï¼Œè¿™æ—¶å°±éœ€è¦æƒé™ä¸Šçš„ç®¡æ§ã€‚gitæœ¬èº«æå€¡çš„æ˜¯å¼€æ”¾ï¼Œæƒé™ç®¡ç†ä¸æ˜¯å®ƒçš„å¼ºé¡¹ï¼Œéœ€è¦å€ŸåŠ©hookå®ç°ã€‚gitæ— æ³•åšåˆ°ç›®å½•çº§åˆ«çš„æƒé™ç®¡æ§ï¼Œéœ€è¦å°†ç›®å½•æ‹†æˆå•ç‹¬çš„é¡¹ç›®ã€‚gitlabä¸­æä¾›äº†å‡ ç±»è§’è‰²(è®¿å®¢ã€æŠ¥å‘Šè€…ã€å¼€å‘è€…ã€ç®¡ç†è€…)ï¼Œè®©æˆ‘å¥‡æ€ªçš„æ˜¯ä¸ºå•¥gitlabä¸å®ç°<strong>rbac</strong>ï¼ˆå¦‚æœæœ‰çš„è¯ï¼Œåº”è¯¥æ˜¯ä¸ªäº®ç‚¹ï¼‰ï¼Œå®é™…ä¼ä¸šå†…éƒ¨å¼€å‘çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¸æ­¢è¿™äº›è§’è‰²ã€‚å¯¹äºå¤šè§’è‰²çš„ä½¿ç”¨åœºæ™¯ï¼Œå®é™…æ“ä½œè¿‡ç¨‹ä¸­å¯ä»¥ç»™å¼€å‘è€…æˆäºˆ<strong>è®¿å®¢</strong>çš„è§’è‰²ï¼Œç ”å‘è´Ÿè´£äººæˆäºˆ<strong>å¼€å‘è€…</strong>çš„è§’è‰²ï¼Œè¿ç»´è´Ÿè´£äººæˆäºˆ<strong>ç®¡ç†è€…</strong>çš„è§’è‰²ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="è¯„å®¡æœºåˆ¶"></a>è¯„å®¡æœºåˆ¶<a class="hash-link" href="#è¯„å®¡æœºåˆ¶" title="Direct link to heading">#</a></h3><ul><li><strong>åŸºäºæäº¤</strong> å¦‚æœå¯¹ä»£ç çš„è´¨é‡æœ‰è¾ƒé«˜çš„æ ‡å‡†å¹¶ä¸”å›¢é˜Ÿæ‰€æœ‰æˆå‘˜éƒ½è®¤åŒè¯¥æ–¹å¼ï¼Œå¯ä»¥è€ƒè™‘å¼•å…¥gerrit</li><li><strong>åŸºäºåˆ†æ”¯åˆå¹¶</strong> åœ¨åˆå¹¶åˆ†æ”¯ä»£ç çš„æ—¶å€™ï¼Œå®Œæˆä»£ç çš„å®¡æŸ¥ã€‚ä¸€ç§è¾ƒå®½æ¾çš„æ–¹å¼ï¼Œä¹Ÿæ˜¯æˆ‘è§‰å¾—ä¼ä¸šå†…éƒ¨å¯æ¨è¡Œçš„æ–¹å¼ã€‚</li></ul><p>å¤§æ¦‚åœ¨2020å¹´9æœˆä»½çš„æ—¶å€™ï¼Œè¯»åˆ°äº†è’‹é‘«å…ˆç”Ÿçš„æ–‡ç« <a href="https://git-repo.info/zh_cn/2020/03/agit-flow-and-git-repo/" target="_blank" rel="noopener noreferrer">AGit-Flow é˜¿é‡Œå·´å·´é›†ä¸­å¼ Git å·¥ä½œæµ</a>ï¼Œè’‹å…ˆç”Ÿåˆ—çš„å‡ ç‚¹ç‰¹å¾</p><ol><li>ä»“åº“çš„æˆæƒæ¨¡å‹ç®€å•ã€‚æ— éœ€ä¸ºé¡¹ç›®è®¾ç½®å¤æ‚çš„æˆæƒï¼Œåªè¯»ç”¨æˆ·äº¦å¯å‚ä¸ä»£ç è´¡çŒ®ã€‚</li><li>é€šè¿‡ä»£ç è¯„å®¡æå‡ä»£ç è´¨é‡ã€‚å‚ä¸è€…ä¸æ˜¯å°†ä»£ç ç›´æ¥æ¨é€çš„åˆ†æ”¯ä¸Šï¼Œè€Œæ˜¯åˆ›å»ºä»£ç è¯„å®¡ã€‚</li><li>ä»“åº“çš„åˆ†æ”¯æ¨¡å‹ç®€å•ã€‚ä»“åº“ä¸­æ²¡æœ‰å¤šä½™çš„åˆ†æ”¯ï¼Œå³ä¸éœ€è¦åˆ›å»ºç‰¹æ€§åˆ†æ”¯ã€‚</li></ol><p>ä¸€æ–¹é¢èƒ½å¤Ÿè§£å†³äº†<strong>åˆ†æ”¯ç­–ç•¥</strong>ä¸­å¤šåˆ†æ”¯çš„é—®é¢˜ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿè§£å†³äº†<strong>æƒé™ç®¡ç†</strong>ä¸­æƒé™çš„é—®é¢˜ã€‚åœ¨<a href="https://developer.aliyun.com/article/776452" target="_blank" rel="noopener noreferrer">git2.29ç‰ˆæœ¬</a>å·²åŒ…å«è’‹å…ˆç”Ÿæ–‡ç« ä¸­çš„<strong><em>proc</em>-receive </strong>ã€‚ç›®å‰é˜¿é‡Œäº‘çš„äº‘æ•ˆå·²å®ç°è¯¥ç‰¹æ€§ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è¯•è¯•ã€‚gitlabç›®å‰è¿˜æ²¡æœ‰è¯¥åŠŸèƒ½ï¼Œè‡ªå·±é›†æˆçš„è¯ï¼Œè’‹å…ˆç”Ÿæä¾›äº†ä¸€äº›æ€è·¯ã€‚(<a href="https://github.com/alibaba/git-repo-go/issues/3" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/git-repo-go/issues/3</a>)</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å•ä½“ä»“åº“"></a>å•ä½“ä»“åº“<a class="hash-link" href="#å•ä½“ä»“åº“" title="Direct link to heading">#</a></h3><ul><li><strong>CODEOWNERS</strong> é€šè¿‡ç»´æŠ¤ä¸€ä»½ <strong>CODEOWNERS</strong>æ–‡ä»¶è¯´æ˜ç›®å½•ç©ºé—´ç”±å“ªä¸ªå›¢é˜Ÿæˆ–ä¸ªäººè´Ÿè´£ï¼Œä»»ä½•è¯¥ç›®å½•ç©ºé—´ä¸‹æ–‡ä»¶çš„æ›´æ”¹ï¼Œéƒ½å°†ç”±ä»£ç çš„æ‹¥æœ‰è€…å®¡æ ¸</li><li><strong>sparse-checkout</strong> åªæ£€å‡ºéœ€è¦çš„ç›®å½•ï¼Œå…·ä½“å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« (<a href="https://github.blog/2020-01-17-bring-your-monorepo-down-to-size-with-sparse-checkout/" target="_blank" rel="noopener noreferrer">https://github.blog/2020-01-17-bring-your-monorepo-down-to-size-with-sparse-checkout/</a>)</li><li><strong>git log --pretty=oneline -- &lt;ç›®å½•å&gt;</strong> æŸ¥çœ‹æŸä¸€ç›®å½•ä¸‹çš„æäº¤æ—¥å¿—</li><li><strong>git tag -a &lt;ç›®å½•å&gt;/vx.x.x -m &#x27;&lt;è¯´æ˜å†…å®¹&gt;&#x27;</strong> ç»™ç›®å½•ä¸‹çš„å˜æ›´æ‰“ä¸Šæ ‡ç­¾</li><li><strong>scalar</strong> æå‡è¶…å¤§å‹å•ä½“ä»“åº“çš„é€Ÿåº¦ï¼Œå…·ä½“å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« (<a href="https://devblogs.microsoft.com/devops/introducing-scalar/" target="_blank" rel="noopener noreferrer">https://devblogs.microsoft.com/devops/introducing-scalar/</a>)</li><li><strong>bazel</strong> å•ä½“ä»“åº“ä¸‹çš„æ„å»ºåˆ©å™¨ï¼Œå…·ä½“å¯ä»¥çœ‹å®˜æ–¹çš„ä»‹ç»(<a href="https://bazel.build/" target="_blank" rel="noopener noreferrer">https://bazel.build/</a>)</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><a class="margin-horiz--sm" href="/blog/tags/vcs">vcs</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="blogPostTitle_GeHD"><a href="/blog/database-version-management">æ•°æ®åº“è„šæœ¬ç‰ˆæœ¬ç®¡ç†å·¥ç¨‹å®è·µ</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2020-09-26T00:00:00.000Z">September 26, 2020</time> Â· 2 min read</div><div class="avatar margin-vert--md"><a href="https://lokiworks.github.io" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars1.githubusercontent.com/u/16199375?v=4" alt="Loki"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://lokiworks.github.io" target="_blank" rel="noopener noreferrer">Loki</a></div><small class="avatar__subtitle">SE</small></div></div></header><div class="markdown"><p>å·²ç»å¥½ä¹…æ²¡å†™åšå®¢äº†ï¼Œæœ€è¿‘ä¸€ç›´åœ¨ç ”è¯»leveldbçš„æºç ï¼Œè¿›å±•ä¸æ˜¯å¾ˆé¡ºåˆ©ã€‚æƒ³è¦å†™å‡ºä¸€ç¯‡è‡ªå·±çš„è§è§£è¿˜è¦ä¸€æ®µæ—¶é—´ã€‚æ­£å¥½æœ€è¿‘åœ¨æ•°æ®åº“è„šæœ¬ç‰ˆæœ¬ç®¡ç†æ§åˆ¶æ–¹é¢æœ‰ä¸€äº›è‡ªå·±çš„æƒ³æ³•ä¸å®è·µï¼Œæ‹¿å‡ºæ¥ä¸å„ä½åˆ†äº«ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="éœ€æ±‚"></a>éœ€æ±‚<a class="hash-link" href="#éœ€æ±‚" title="Direct link to heading">#</a></h2><ul><li>æ•°æ®åº“è„šæœ¬å¯ä»¥ç”¨gitè¿›è¡Œç‰ˆæœ¬ç®¡ç†</li><li>æ•°æ®åº“è„šæœ¬å¯ä»¥åƒæ™®é€šä»£ç ä¸€æ ·çº³å…¥code reviewæµç¨‹(Gitlabã€Gerritç­‰)è¿›è¡Œè„šæœ¬åˆè§„çš„å®¡æŸ¥</li><li>æ•°æ®åº“è„šæœ¬å¯ä»¥ä¸CIé›†æˆï¼Œä½œä¸ºpipelineä¸­çš„ä¸€ä¸ªç¯èŠ‚ã€‚é€šè¿‡ä¸ä¸Šä¸€ç‰ˆæœ¬è¿›è¡Œæ¯”è¾ƒ,ç”Ÿæˆå¾…ä¸Šçº¿çš„è„šæœ¬åŠå¯¹åº”çš„å›é€€è„šæœ¬ã€‚</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æ€è·¯"></a>æ€è·¯<a class="hash-link" href="#æ€è·¯" title="Direct link to heading">#</a></h2><p>å…³äºæ•°æ®åº“è„šæœ¬ç‰ˆæœ¬ç®¡ç†æ–¹é¢çš„å·¥å…·ï¼Œæˆ‘åœ¨ç½‘ä¸Šä¹Ÿæœäº†å¾ˆå¤šå·¥å…·ï¼Œæ¯”å¦‚ï¼šflywayã€liquibaseã€umlå»ºæ¨¡å·¥å…·ç­‰ï¼Œä½†æ˜¯è¿™äº›å·¥å…·éƒ½ä¸æ˜¯æˆ‘æƒ³è¦çš„ã€‚è¿™é‡Œç®€å•è®²ä¸‹æˆ‘çš„æ€è·¯ï¼š</p><ol><li>åœ¨ä»£ç ä»“åº“ä¸‹åˆ›å»ºæ•°æ®åº“è„šæœ¬çš„ä»“åº“è¿›è¡Œè„šæœ¬çš„ç»´æŠ¤</li><li>æ¯ä¸ªç³»ç»Ÿä¸€ä¸ªæ–‡ä»¶å¤¹,æ–‡ä»¶å¤¹ä¸‹æ”¾å…¥ç³»ç»Ÿè‹±æ–‡åç§°.sqlçš„æ–‡ä»¶(æ¯”å¦‚è®¢å•ç³»ç»Ÿå«omsï¼Œåˆ™è„šæœ¬æ–‡ä»¶çš„åç§°ä¸ºoms.sql)</li><li>è„šæœ¬æ–‡ä»¶ä¸­åªæ”¾åˆ›å»ºè¡¨è¯­å¥ï¼Œæ¯æ¬¡è„šæœ¬çš„ä¿®æ”¹ï¼Œåªæ˜¯å¯¹è¡¨ã€åˆ—çš„å±æ€§åšå¢åˆ æ”¹ã€‚</li></ol><p>åŸºäºä»¥ä¸Šï¼Œå®é™…éœ€è¦çš„èƒ½å¤Ÿè§£æDDLä¸­å»ºè¡¨è¯­å¥çš„å·¥å…·ï¼Œé€šè¿‡å¯¹æ¯”ä¸¤ä¸ªç‰ˆæœ¬çš„DDLç”Ÿæˆå¯¹åº”çš„diffæ–‡ä»¶ã€‚åŸºäºè¿™æ ·çš„è¯‰æ±‚ï¼Œåœ¨githubä¸Šæ‰¾åˆ°äº†è¿™æ ·çš„å·¥å…·ï¼Œå·¥å…·çš„åç§°å«<a href="https://github.com/schemalex/schemalex" target="_blank" rel="noopener noreferrer">schemalex</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å®è·µ"></a>å®è·µ<a class="hash-link" href="#å®è·µ" title="Direct link to heading">#</a></h2><ol><li>æœ¬åœ°ç¯å¢ƒåˆ›å»ºä¸ªæ–‡ä»¶å¤¹å¹¶åˆå§‹åŒ–gitä»“åº“</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> demo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> demo</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> init</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="2"><li>åˆ›å»ºdemo.sqlæ–‡ä»¶ï¼Œåˆå§‹æ•°æ®ä¸º</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sql"><pre tabindex="0" class="prism-code language-sql codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token plain"> student </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> id </span><span class="token keyword" style="font-style:italic">INTEGER</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AUTO_INCREMENT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="3"><li>å°†demo.sqlæ–‡ä»¶ä¿å­˜åˆ°æœ¬åœ°å·¥ä½œåŒºå¹¶æ‰“ä¸Štag</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;add demo.sql&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> tag -a v1.0 -m </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;add demo.sql&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="4"><li>ä¿®æ”¹demo.sqlï¼Œä¿®æ”¹åçš„æ•°æ®ä¸º</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sql"><pre tabindex="0" class="prism-code language-sql codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token plain"> student </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    id </span><span class="token keyword" style="font-style:italic">INTEGER</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AUTO_INCREMENT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name </span><span class="token keyword" style="font-style:italic">VARCHAR</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">64</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DEFAULT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token plain"> course </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    id </span><span class="token keyword" style="font-style:italic">INTEGER</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AUTO_INCREMENT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name </span><span class="token keyword" style="font-style:italic">VARCHAR</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">64</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DEFAULT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="5"><li>ä¿å­˜æ–‡ä»¶åˆ°æœ¬åœ°å·¥ä½œåŒº</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sql"><pre tabindex="0" class="prism-code language-sql codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git </span><span class="token keyword" style="font-style:italic">add</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git </span><span class="token keyword" style="font-style:italic">commit</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">m </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;modify demo.sql&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="6"><li>æ‰§è¡Œè„šæœ¬<code>./gen.sh /root/demo demo</code>ï¼Œè„šæœ¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ•°æ®åº“è„šæœ¬æ–‡ä»¶å¤¹çš„å…¨è·¯å¾„ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ•°æ®åº“è„šæœ¬åç§°</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">set</span><span class="token plain"> -e</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">dst_dir</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">sys_name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$2</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> -z </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$sys_name</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;usage gen_script.sh dst_dir sys_name&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exit</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">fi</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">script_file</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">${sys_name}</span><span class="token plain">.sql</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">cur_dir</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable builtin class-name" style="color:rgb(255, 203, 107)">pwd</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$dst_dir</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> -f </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$script_file</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$script_file</span><span class="token string" style="color:rgb(195, 232, 141)"> not be found&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exit</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">fi</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># test git command</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">command</span><span class="token plain"> -v </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&gt;</span><span class="token plain"> /dev/null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;git cound not be found&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exit</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">fi</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> checkout master </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&gt;</span><span class="token plain"> /dev/null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;checkout master failed&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exit</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">fi</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">current_file</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable" style="color:rgb(191, 199, 213)">mktemp</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$script_file</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$current_file</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&gt;</span><span class="token plain"> /dev/null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;copy </span><span class="token string variable" style="color:rgb(191, 199, 213)">$script_file</span><span class="token string" style="color:rgb(195, 232, 141)"> </span><span class="token string variable" style="color:rgb(191, 199, 213)">$current_file</span><span class="token string" style="color:rgb(195, 232, 141)"> failed&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exit</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">fi</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># list latest tag</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">latest_tag</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable function" style="color:rgb(130, 170, 255)">git</span><span class="token variable" style="color:rgb(191, 199, 213)"> describe --tags </span><span class="token variable string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token variable string variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable string variable function" style="color:rgb(130, 170, 255)">git</span><span class="token variable string variable" style="color:rgb(191, 199, 213)"> rev-list --tags --max-count</span><span class="token variable string variable operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable string variable number" style="color:rgb(247, 140, 108)">1</span><span class="token variable string variable" style="color:rgb(191, 199, 213)">)</span><span class="token variable string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> -z </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$latest_tag</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;current repo no tag.&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exit</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">fi</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> checkout </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$latest_tag</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&gt;</span><span class="token plain"> /dev/null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;checkout tags failed&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exit</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">fi</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">tag_file</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable" style="color:rgb(191, 199, 213)">mktemp</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$script_file</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$tag_file</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&gt;</span><span class="token plain"> /dev/null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;copy </span><span class="token string variable" style="color:rgb(191, 199, 213)">$script_file</span><span class="token string" style="color:rgb(195, 232, 141)"> </span><span class="token string variable" style="color:rgb(191, 199, 213)">$tag_file</span><span class="token string" style="color:rgb(195, 232, 141)"> failed&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exit</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">fi</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">rollback</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable" style="color:rgb(191, 199, 213)">schemalex </span><span class="token variable string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token variable string variable" style="color:rgb(191, 199, 213)">$current_file</span><span class="token variable string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token variable string variable" style="color:rgb(191, 199, 213)">$tag_file</span><span class="token variable string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$rollback</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$cur_dir</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain">/rollback.sql</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">diff</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable" style="color:rgb(191, 199, 213)">schemalex </span><span class="token variable string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token variable string variable" style="color:rgb(191, 199, 213)">$tag_file</span><span class="token variable string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token variable string variable" style="color:rgb(191, 199, 213)">$current_file</span><span class="token variable string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$diff</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$cur_dir</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain">/diff.sql</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="7"><li>æœ€ç»ˆä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶:diff.sqlå’Œrollback.sql</li></ol><ul><li>diff.sql</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sql"><pre tabindex="0" class="prism-code language-sql codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">BEGIN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">SET</span><span class="token plain"> FOREIGN_KEY_CHECKS </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain">course</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">INT</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">11</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AUTO_INCREMENT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">VARCHAR</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">64</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DEFAULT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">ALTER</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain">student</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">ADD</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">COLUMN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">VARCHAR</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">64</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DEFAULT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AFTER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">SET</span><span class="token plain"> FOREIGN_KEY_CHECKS </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">COMMIT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>rollback.sql</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sql"><pre tabindex="0" class="prism-code language-sql codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">BEGIN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">SET</span><span class="token plain"> FOREIGN_KEY_CHECKS </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">DROP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain">course</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">ALTER</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain">student</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DROP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">COLUMN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">SET</span><span class="token plain"> FOREIGN_KEY_CHECKS </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">COMMIT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç»“è¯­"></a>ç»“è¯­<a class="hash-link" href="#ç»“è¯­" title="Direct link to heading">#</a></h2><p>è™½ç„¶schemalexå¯¹è„šæœ¬è¯­å¥ä¸Šæœ‰ä¸€äº›é™åˆ¶ï¼Œä½†æ˜¯åŸºæœ¬æ»¡è¶³äº†æˆ‘å¯¹æ•°æ®åº“ç‰ˆæœ¬ç®¡ç†çš„è¯‰æ±‚ï¼Œä»¥ä¸Šæ˜¯æˆ‘åœ¨æ•°æ®åº“ç‰ˆæœ¬ç®¡ç†ä¸Šçš„ä¸€äº›å®è·µï¼Œä¾›å„ä½å‚è€ƒã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="è”ç³»æ–¹å¼"></a>è”ç³»æ–¹å¼<a class="hash-link" href="#è”ç³»æ–¹å¼" title="Direct link to heading">#</a></h3><ul><li>æ¬¢è¿è®¢é˜…æˆ‘çš„å…¬ä¼—å·ï¼Œè¿™é‡Œä¸»è¦ä¼šå‘è¡¨äº›è½¯ä»¶å·¥ç¨‹ä¸Šçš„ä¸€äº›æƒ³æ³•åŠå®è·µ
<img alt="å¾®ä¿¡å…¬ä¼—å·" src="/assets/images/weixin-87aa5dc8406a7bddb435f74a81d745e9.jpg"></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><a class="margin-horiz--sm" href="/blog/tags/vcs">vcs</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="blogPostTitle_GeHD"><a href="/blog/how-to-read-sourcecode">å¦‚ä½•é˜…è¯»æºç </a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2020-08-02T00:00:00.000Z">August 2, 2020</time> Â· One min read</div><div class="avatar margin-vert--md"><a href="https://lokiworks.github.io" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars1.githubusercontent.com/u/16199375?v=4" alt="Loki"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://lokiworks.github.io" target="_blank" rel="noopener noreferrer">Loki</a></div><small class="avatar__subtitle">SE</small></div></div></header><div class="markdown"><p>å‡ºäºæŸä¸€äº›åŸå› ï¼ˆå·¥ä½œçš„éœ€è¦ã€ä¸ªäººæŠ€æœ¯ä¸Šçš„è‡ªæˆ‘æå‡ï¼‰,æ—¶å¸¸éœ€è¦é˜…è¯»ä¸€äº›å¼€æºé¡¹ç›®çš„æºç ã€‚é¢å¯¹ä¸€å¤§å¨çš„ä»£ç ï¼Œè¯¥å¦‚ä½•é˜…è¯»æºç ï¼Ÿ </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç›®çš„"></a>ç›®çš„<a class="hash-link" href="#ç›®çš„" title="Direct link to heading">#</a></h2><p>é¦–å…ˆï¼Œæˆ‘æ˜¯ä¸å»ºè®®ä¸Šæ¥å°±é˜…è¯»æºç çš„ã€‚å¾ˆå¤šåŠŸèƒ½ç‚¹æ˜¯å¯ä»¥å‚ç…§å®˜æ–¹æ–‡æ¡£ï¼Œä»¥åšå®éªŒçš„æ–¹å¼å»å­¦ä¹ ã€æŒæ¡ã€åŠ æ·±å°è±¡çš„ã€‚é€šå¸¸æˆ‘é˜…è¯»æºç çš„ç›®çš„ä¸»è¦æœ‰ï¼š</p><ul><li>å­¦ä¹ æ¶æ„ä¸Šçš„è®¾è®¡ã€å•æµ‹ã€é›†æµ‹çš„ç¼–å†™ä»¥åŠæ–‡æ¡£çš„ä¹¦å†™</li><li>åŠ æ·±åœ¨æŸä¸€æŠ€æœ¯æ ˆä¸ŠçŸ¥è¯†çš„ç§¯ç´¯</li><li>åœ¨å…¶ç°æœ‰åŠŸèƒ½åŸºç¡€ä¸Šåšå®šåˆ¶åŒ–å¼€å‘</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="é€‰å‹"></a>é€‰å‹<a class="hash-link" href="#é€‰å‹" title="Direct link to heading">#</a></h2><p>å¯ä»¥é€‰æ‹©å·¥ä½œä¸­å¸¸ç”¨çš„å¼€æºé¡¹ç›®æˆ–è€…æœªæ¥ä¸€æ®µæ—¶é—´å†…éå¸¸æœ‰å‰æ™¯çš„å¼€æºé¡¹ç›®ã€‚åˆšå¼€å§‹çš„æ—¶å€™ä¸å»ºè®®è¯»ä¸­å¤§å‹é¡¹ç›®çš„æºç ï¼ŒåŸå› æœ‰å‡ ç‚¹ï¼š</p><ul><li>ä¼šæ¶ˆè€—å¤§é‡çš„æ—¶é—´ï¼ŒæŠ•å…¥äº§å‡ºæ¯”ä¸æˆæ­£æ¯”</li><li>éœ€è¦æ›´é«˜çš„ç´ è´¨ã€æ›´å¹¿çš„çŸ¥è¯†é¢</li><li>æ‰“å‡»ç§¯ææ€§</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å·¥å…·"></a>å·¥å…·<a class="hash-link" href="#å·¥å…·" title="Direct link to heading">#</a></h2><p>ä½¿ç”¨è‡ªå·±ç†Ÿæ‚‰çš„å·¥å…·ï¼Œå¥½çš„å·¥å…·ä¼šä»¤ä½ äº‹åŠåŠŸå€ã€‚é€šå¸¸æˆ‘ç”¨åˆ°çš„å·¥å…·æœ‰ï¼š</p><ul><li><strong>Visual Code</strong> è½»é‡çº§æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå…¶æä¾›äº†å¾ˆå¤šè¯­è¨€çš„æ’ä»¶ã€‚ </li><li><strong>Visual Studio</strong> ä¸»è¦ç”¨æ¥é˜…è¯»C++ã€C#çš„ä»£ç ï¼Œå®ƒçš„debugåŠŸèƒ½æ˜¯æˆ‘ç›®å‰ç”¨è¿‡çš„å·¥å…·ä¸­æœ€å¥½ç”¨çš„</li><li><strong>Jetbrainså…¨å®¶æ¡¶</strong> ä¸»è¦ç”¨æ¥é˜…è¯»javaã€goã€pythonçš„ä»£ç </li><li><strong>Visual Paradigm</strong> ä¸»è¦ç”¨æ¥ç»˜åˆ¶ç±»å›¾ã€æ—¶åºå›¾</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æ–¹æ³•"></a>æ–¹æ³•<a class="hash-link" href="#æ–¹æ³•" title="Direct link to heading">#</a></h2><p>å¥½çš„æ–¹æ³•ï¼Œæœ‰åŠ©äºå¿«é€Ÿçš„é˜…è¯»æºç ï¼Œè¾¾åˆ°è‡ªå·±é¢„æœŸçš„æ•ˆæœã€‚é€šè¿‡æˆ‘ç”¨åˆ°çš„æ–¹æ³•æœ‰ï¼š</p><ul><li><strong>è°ƒè¯•</strong> é€šè¿‡debugå¯ä»¥çŸ¥é“ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­çš„äº¤äº’æµç¨‹</li><li><strong>æ‰“æ—¥å¿—</strong> å¼€å¯debugçº§åˆ«çš„æ—¥å¿—ï¼Œé€šè¿‡è§‚å¯Ÿæ—¥å¿—çš„è¾“å‡ºï¼ŒçŒœå‡ºç¨‹åºçš„å¤§è‡´æ‰§è¡Œæµç¨‹</li><li><strong>è¯†åˆ«</strong> è¯†åˆ«æµç¨‹ä¸­çš„ä¸»è¦æ­¥éª¤ï¼Œè¿‡æ»¤æ¬¡è¦æ­¥éª¤ã€‚å…ˆç†æ¸…ç¨‹åºçš„éª¨æ¶ï¼Œå†é€ä¸€å‡»ç ´</li><li><strong>è·‘ç”¨ä¾‹</strong> ä¸€èˆ¬å¥½çš„å¼€æºé¡¹ç›®ä¸­ï¼Œéƒ½ä¼šæä¾›ä¸°å¯Œçš„ç”¨ä¾‹ã€‚å¯ä»¥é€šè¿‡è·‘ç”¨ä¾‹ï¼Œäº†è§£æŸä¸€åŠŸèƒ½çš„ä½¿ç”¨ã€å®ç°é€»è¾‘</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æ¡ˆä¾‹"></a>æ¡ˆä¾‹<a class="hash-link" href="#æ¡ˆä¾‹" title="Direct link to heading">#</a></h2><p>javaå¼€å‘ä¸­é€šå¸¸ä¼šç”¨åˆ°mybatisï¼Œmybatisä½œä¸ºORMæ¡†æ¶ï¼Œæœ‰ç€ç®€å•æ˜“ç”¨ç­‰ç‰¹ç‚¹ã€‚ è¿™é‡Œä»¥mybatis-3çš„æºç ä¸¾ä¾‹ï¼Œæ•´ä¸ªmybatisä¸å«æµ‹è¯•ç”¨ä¾‹çš„ä»£ç é‡ä¸º37189ï¼Œå¦‚æœæ²¡æœ‰ä¸€å®šçš„æ–¹æ³•çœ‹ç€ä¸‡è¡Œä»£ç è¿˜æ˜¯æŒºç´¯çš„ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æ ¸å¿ƒåŠŸèƒ½"></a>æ ¸å¿ƒåŠŸèƒ½<a class="hash-link" href="#æ ¸å¿ƒåŠŸèƒ½" title="Direct link to heading">#</a></h3><ul><li><strong>åŠ è½½é…ç½®</strong> åŠ è½½é…ç½®çš„è¿‡ç¨‹ï¼Œå°±æ˜¯ä¸ºäº†æ„é€ Configurationç±»ï¼Œmybatisä¸­å…³é”®çš„å‡ ä¸ªç±»ï¼Œéƒ½è·ŸConfigurationç±»æœ‰ç€åƒä¸ä¸‡ç¼•çš„å…³ç³»ã€‚
<img alt="alt" src="/assets/images/åŠ è½½é…ç½®-b4f6c8bd3f5004973e349e98481fdfc6.jpg"><img alt="alt" src="/assets/images/åŠ è½½é…ç½®_seq-072c04a463faaccac6a8339fbbc3550f.jpg"></li><li><strong>æ‰§è¡ŒSQL</strong> é€šè¿‡SqlSessionã€Executorã€StatementHandlerè¿™å‡ ä¸ªç±»çš„åä½œï¼Œæœ€ç»ˆé€šè¿‡Statementå®ŒæˆSQLçš„æ‰§è¡Œã€‚
<img alt="alt" src="/assets/images/æ‰§è¡ŒSQL-66d07da8cd2d09f4b706ab0298e9260a.jpg"><img alt="alt" src="/assets/images/æ‰§è¡ŒSQL_seq-1d5b29f1a1f48cd37070ece2f2cbefe2.jpg"></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç»“è¯­"></a>ç»“è¯­<a class="hash-link" href="#ç»“è¯­" title="Direct link to heading">#</a></h2><p>è¿™é‡Œä¸é¼“åŠ±é˜…è¯»æºç ï¼Œå¾ˆå¤šæ—¶å€™å¯ä»¥é€šè¿‡åšå®éªŒçš„æ–¹å¼æŒæ¡æŸä¸€é—¨çŸ¥è¯†ã€‚é€šè¿‡<strong>è°ƒè¯•</strong>ã€<strong>æ‰“æ—¥å¿—</strong>ã€<strong>è¯†åˆ«</strong>ã€<strong>è·‘ç”¨ä¾‹</strong>å‡ ç§æ–¹å¼ï¼Œä¾¿äºæˆ‘ä»¬é˜…è¯»æºç ï¼ŒæŒæ¡å…¶æ ¸å¿ƒåŠŸèƒ½ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="è”ç³»æ–¹å¼"></a>è”ç³»æ–¹å¼<a class="hash-link" href="#è”ç³»æ–¹å¼" title="Direct link to heading">#</a></h3><ul><li>æ¬¢è¿è®¢é˜…æˆ‘çš„å…¬ä¼—å·ï¼Œè¿™é‡Œä¸»è¦ä¼šå‘è¡¨äº›è½¯ä»¶å·¥ç¨‹ä¸Šçš„ä¸€äº›æƒ³æ³•åŠå®è·µ
<img alt="å¾®ä¿¡å…¬ä¼—å·" src="/assets/images/weixin-87aa5dc8406a7bddb435f74a81d745e9.jpg"></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><a class="margin-horiz--sm" href="/blog/tags/source-code">source code</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="blogPostTitle_GeHD"><a href="/blog/build-monorepo">æ„å»ºå•ä½“ä»“åº“</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2020-05-20T00:00:00.000Z">May 20, 2020</time> Â· One min read</div><div class="avatar margin-vert--md"><a href="https://lokiworks.github.io" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars1.githubusercontent.com/u/16199375?v=4" alt="Loki"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://lokiworks.github.io" target="_blank" rel="noopener noreferrer">Loki</a></div><small class="avatar__subtitle">SE</small></div></div></header><div class="markdown"><p>æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨å•ä½“ä»“åº“ä¸Šçš„ä¸€äº›æ€è€ƒåŠå®è·µï¼Œè‡³äºæ˜¯é€‰æ‹©å•ä»“è¿˜æ˜¯å¤šä»“ï¼Œéœ€è¦æ ¹æ®å®é™…çš„æƒ…å†µå»åšé€‰æ‹©ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä¼˜åŠ¿"></a>ä¼˜åŠ¿<a class="hash-link" href="#ä¼˜åŠ¿" title="Direct link to heading">#</a></h2><ul><li><p><strong>ä»£ç å…±äº«å’Œé‡ç”¨</strong></p><blockquote><p>å› ä¸ºåªæœ‰ä¸€ä¸ªä»“åº“ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥çœ‹åˆ°å…¶ä»–äººå†™çš„ä»£ç ã€‚åœ¨å†™æ–°çš„å·¥å…·æˆ–è€…é€šç”¨åŠŸèƒ½æ—¶å¯ä»¥åœ¨ä»“åº“ä¸­æŸ¥æ‰¾æ˜¯ä¸æ˜¯å·²ç»æœ‰ç°æˆçš„ä»£ç äº†ï¼Œé¿å…é‡å¤çš„é€ è½®å­</p></blockquote></li><li><p><strong>å•ä¸€ç‰ˆæœ¬ç®¡ç†</strong></p><blockquote><p>å¯ä»¥ç›´æ¥ä¾èµ–å…¶ä»–å›¢é˜Ÿçš„ä»£ç ï¼Œ è€Œä¸æ˜¯ä½¿ç”¨å…¶æä¾›çš„ç±»åº“ã€‚ä½¿ç”¨ç±»åº“ä¼šå­˜åœ¨ç€é’»çŸ³ä¾èµ–é—®é¢˜ã€‚
<img alt="alt" src="/assets/images/monorepo_f8-cf500b5991eb6b7feed63ef904fa0867.jpg"></p></blockquote></li><li><p><strong>æ–¹ä¾¿é‡æ„</strong></p><blockquote><p>å¯ä»¥ä½¿ç”¨é‡æ„å·¥å…·ï¼Œå¯¹ä»“åº“ä¸­çš„ç±»ã€æ–¹æ³•ç­‰è¿›è¡Œé‡å‘½åã€‚è€Œä¸ç”¨æ‹…å¿ƒæœ‰ä»»ä½•é—æ¼çš„åœ°æ–¹</p></blockquote></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gitå•ä½“ä»“åº“ä¸Šçš„å®è·µ"></a>Gitå•ä½“ä»“åº“ä¸Šçš„å®è·µ<a class="hash-link" href="#gitå•ä½“ä»“åº“ä¸Šçš„å®è·µ" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">å®éªŒç¯å¢ƒ: Win10</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">gitç‰ˆæœ¬: 2.26.2</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">VFSForGit ç‰ˆæœ¬: 1.0.20112.1</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">å…‹éš†å¯¹è±¡:https://github.com/torvalds/linux</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>éƒ¨åˆ†å…‹éš†å’Œç¨€ç–æ£€å‡º<blockquote><p>ä»2.25.0å¼€å§‹æ”¯æŒçš„ç‰¹æ€§ï¼Œ<strong>éƒ¨åˆ†å…‹éš†</strong>å¯ä»¥é¿å…ä¸‹è½½ä¸å¿…è¦çš„å¯¹è±¡ï¼Œä»è€Œå‡å°‘ä¸‹è½½çš„æ—¶é—´ã€‚<strong>ç¨€ç–æ£€å‡º</strong> å®¢æˆ·ç«¯å¯ä»¥æ£€å‡ºç‰¹å®šçš„ç›®å½•ã€‚é€šå¸¸æ˜¯ä¸¤è€…æ­é…ä½¿ç”¨</p></blockquote></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone --filter</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">blob:none --no-checkout https://github.com/torvalds/linux</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> linux/</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> sparse-checkout init --cone</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> sparse-checkout </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">set</span><span class="token plain"> init/usr </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># è¿™é‡Œåªæ£€å‡ºinitå’Œusrç›®å½•</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>VFSForGit<blockquote><p>å¾®è½¯å¼€å‘çš„äº§å“ï¼Œæœ¬åœ°çš„Gitåº“å‰¯æœ¬éƒ½æ˜¯è™šæ‹ŸåŒ–çš„ã€‚åªåŒ…å«å…ƒæ•°æ®å’Œå¿…è¦çš„æºä»£ç æ–‡ä»¶ã€‚
<img alt="alt" src="/assets/images/gvfs-architecture-858b7214c60188fc448ce9aeb61d870f.png"></p></blockquote></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ gvfs clone https://lokiworks@dev.azure.com/lokiworks/linux/_git/linux </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># åªéœ€è¦å°†gitå‘½ä»¤æ¢æˆgvfsï¼Œå› ä¸ºgithubç›®å‰ä¸æ”¯æŒgvfsåè®®ï¼Œæ‰€ä»¥å°†linuxä»£ç å…‹éš†åˆ°ä¸ªäººçš„ä»£ç ä»“åº“ä¸‹</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> src/ </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># æ‰€æœ‰çš„ä»£ç æ–‡ä»¶å…¨éƒ½æ”¾åœ¨srcæ–‡ä»¶å¤¹ä¸‹</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç»“è¯­"></a>ç»“è¯­<a class="hash-link" href="#ç»“è¯­" title="Direct link to heading">#</a></h2><ul><li>å•ä½“ä»“åº“å›ºç„¶å¥½ï¼Œä½†æ˜¯å¹¶ä¸é€‚åˆæ¯ä¸€ä¸ªä¼ä¸š</li><li>gitç›®å‰åœ¨å¤§å‹ä»“åº“ä¸Šæ”¯æŒçš„å¹¶ä¸å¥½ã€‚å³ä½¿ä½¿ç”¨äº†<strong>éƒ¨åˆ†å…‹éš†</strong>ã€<strong>ç¨€ç–æ£€å‡º</strong>ï¼Œå…‹éš†çš„é€Ÿåº¦ä¾ç„¶å¾ˆæ…¢</li><li>VFSForGitå›ºç„¶å¾ˆå¥½ï¼Œä½†æ˜¯ç›®å‰ä¹Ÿåªæœ‰Azure DevOpsã€Bitbucketæ”¯æŒgvfsåè®®ã€‚å¸Œæœ›æœªæ¥åœ¨githubã€gitlabå¹³å°ä¸Šä¹Ÿèƒ½ä½¿ç”¨gvfsã€‚</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="å‚è€ƒ"></a>å‚è€ƒ<a class="hash-link" href="#å‚è€ƒ" title="Direct link to heading">#</a></h2><ul><li><a href="https://cacm.acm.org/magazines/2016/7/204032-why-google-stores-billions-of-lines-of-code-in-a-single-repository/fulltext" target="_blank" rel="noopener noreferrer">https://cacm.acm.org/magazines/2016/7/204032-why-google-stores-billions-of-lines-of-code-in-a-single-repository/fulltext</a></li><li><a href="https://github.com/microsoft/VFSForGit" target="_blank" rel="noopener noreferrer">https://github.com/microsoft/VFSForGit</a></li><li><a href="https://git-scm.com" target="_blank" rel="noopener noreferrer">https://git-scm.com</a></li><li><a href="https://github.blog/2020-01-17-bring-your-monorepo-down-to-size-with-sparse-checkout/" target="_blank" rel="noopener noreferrer">https://github.blog/2020-01-17-bring-your-monorepo-down-to-size-with-sparse-checkout/</a></li><li><a href="https://docs.microsoft.com/en-us/azure/devops/learn/git/git-at-scale" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/en-us/azure/devops/learn/git/git-at-scale</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="è”ç³»æ–¹å¼"></a>è”ç³»æ–¹å¼<a class="hash-link" href="#è”ç³»æ–¹å¼" title="Direct link to heading">#</a></h3><ul><li>æ¬¢è¿è®¢é˜…æˆ‘çš„å…¬ä¼—å·ï¼Œè¿™é‡Œä¸»è¦ä¼šå‘è¡¨äº›è½¯ä»¶å·¥ç¨‹ä¸Šçš„ä¸€äº›æƒ³æ³•åŠå®è·µ
<img alt="å¾®ä¿¡å…¬ä¼—å·" src="/assets/images/weixin-87aa5dc8406a7bddb435f74a81d745e9.jpg"></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><a class="margin-horiz--sm" href="/blog/tags/design">design</a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="blogPostTitle_GeHD"><a href="/blog/software-design">è½¯ä»¶è®¾è®¡</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2020-05-09T00:00:00.000Z">May 9, 2020</time> Â· 3 min read</div><div class="avatar margin-vert--md"><a href="https://lokiworks.github.io" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars1.githubusercontent.com/u/16199375?v=4" alt="Loki"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://lokiworks.github.io" target="_blank" rel="noopener noreferrer">Loki</a></div><small class="avatar__subtitle">SE</small></div></div></header><div class="markdown"><p>æœ¬æ¥æ˜¯æƒ³å†™ç¯‡è½¯ä»¶åˆ†å±‚çš„æ–‡ç« ï¼Œæƒ³æƒ³ä»‹ç»çš„å†…å®¹ä¸å•å•æ˜¯è¦é˜è¿°è½¯ä»¶åˆ†å±‚çš„æ€æƒ³ã€‚ä¸‹é¢ä»¥ä¸€ä¸ªå…·ä½“çš„ä¾‹å­è¿›å…¥ä¸»é¢˜</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="éª¨æ¶å·¥ç¨‹"></a>éª¨æ¶å·¥ç¨‹<a class="hash-link" href="#éª¨æ¶å·¥ç¨‹" title="Direct link to heading">#</a></h2><p>éª¨æ¶å·¥ç¨‹çš„ç›®çš„æ˜¯å°†è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­çš„æœ€ä½³å®è·µã€å¯é‡ç”¨çš„ä»£ç å¼•å…¥åˆ°æ¡†æ¶ä¸­ï¼Œå½¢æˆä¸€å¥—æ ‡å‡†ã€‚æ–¹ä¾¿ä»–äººèƒ½å¤Ÿå¿«é€Ÿçš„èå…¥åˆ°å›¢é˜Ÿçš„å¼€å‘è§„èŒƒä¸­ï¼Œæ›´å¿«ã€æ›´æœ‰æ•ˆçš„å¼€å‘ä»£ç ï¼Œå°†ç²¾åŠ›éƒ½é›†ä¸­åœ¨ä¸šåŠ¡åœºæ™¯ä¸‹çš„ä»£ç é€»è¾‘ä¸Šï¼Œé¿å…äº†ä¸å¿…è¦çš„åˆ†å¿ƒã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="åè¯è§£é‡Š"></a>åè¯è§£é‡Š<a class="hash-link" href="#åè¯è§£é‡Š" title="Direct link to heading">#</a></h3><table><thead><tr><th>æœ¯è¯­</th><th>å…¨ç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>DTO</td><td>Data Trafer Object</td><td></td></tr><tr><td>DAO</td><td>Data Access Object</td><td></td></tr><tr><td>DO</td><td>Domain Object</td><td></td></tr><tr><td>app</td><td>application</td><td></td></tr><tr><td>intgr</td><td>integration</td><td></td></tr><tr><td>vo</td><td>value object</td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„<a class="hash-link" href="#ç›®å½•ç»“æ„" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ arch-app       # åŒ…å«äº†ä¸€ç³»åˆ—@RestController</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ arch-domain    # åŒ…å«äº†ä¸€ç³»åˆ—@Serviceå’Œ@Componentå’ŒDOå®ä½“æ¨¡å‹</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ arch-dal       # åŒ…å«äº†ä¸€ç³»åˆ—@Mapperå’ŒDAOå®ä½“æ¨¡å‹</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ arch-intgr     # åŒ…å«äº†ä¸€ç³»åˆ—å…¶ä»–ä¸šåŠ¡çš„xxx-clientåŠç¬¬ä¸‰æ–¹å¹³å°sdkçš„å°è£…</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ arch-util      # åŒ…å«äº†ä¸€ç³»åˆ—XXXUtilså·¥å…·ç±»</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ arch-api       # åŒ…å«äº†å‡ºå…¥å‚çš„DTOå®ä½“æ¨¡å‹ä»¥åŠAPIæ¥å£</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ arch-client    # åŒ…å«äº†ä¸€ç³»åˆ—@FeignClient</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç»“æ„å›¾"></a>ç»“æ„å›¾<a class="hash-link" href="#ç»“æ„å›¾" title="Direct link to heading">#</a></h3><p><img alt="software-design" src="/assets/images/software-multitier-ba52251c924e9732a6ecf4a7bcfb2d2d.jpg">
æ‰“åŒ…æ—¶ä¼šå°†<strong>arch-api</strong>åŠ<strong>arch-client</strong>éƒ¨ç½²åˆ°ç§æœä¸­ï¼Œä¾›å…¶ä»–ä¸šåŠ¡ä½¿ç”¨æ–¹ä½¿ç”¨</p><ul><li><strong>arch-app</strong> å¼•ç”¨äº†arch-apiã€arch-domainã€arch-intgrï¼Œæ‰€æœ‰çš„@RestControlleréƒ½å®ç°äº†arch-apiå®šä¹‰çš„æ¥å£</li><li><strong>arch-domain</strong> å¼•ç”¨äº†arch-dalå’Œarch-util</li><li><strong>arch-client</strong> å¼•ç”¨äº†arch-api</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä¼˜åŒ–ç‰ˆæœ¬v1"></a>ä¼˜åŒ–ç‰ˆæœ¬V1<a class="hash-link" href="#ä¼˜åŒ–ç‰ˆæœ¬v1" title="Direct link to heading">#</a></h3><ol><li><p>arch-domainå¦‚ä½•ä½¿ç”¨arch-apiä¸­çš„å®ä½“æ¨¡å‹?</p><p>å¯ä»¥ä»arch-apiä¸­åˆ†ç¦»å‡ºarch-api-beanï¼Œ arch-domainå¼•ç”¨arch-api-bean</p></li><li><p>arch-domainå¦‚ä½•ä½¿ç”¨arch-appä¸­çš„å®ä½“æ¨¡å‹?</p><p>arch-appå¼•ç”¨äº†arch-apiï¼Œç†è®ºä¸Šä¸ä¼šéœ€è¦è‡ªå®šä¹‰å®ä½“ã€‚å®é™…æ“ä½œæ—¶å¹¶ä¸éœ€è¦æŠŠæ‰€æœ‰çš„æ¥å£éƒ½æš´éœ²ç»™ä¸šåŠ¡ä½¿ç”¨æ–¹ï¼Œåªæš´éœ²ä¸šåŠ¡ä½¿ç”¨æ–¹éœ€è¦çš„æ¥å£ï¼Œæ‰€ä»¥arch-appä¸­ä¼šå­˜åœ¨å®ä½“æ¨¡å‹ã€‚
å¯ä»¥ä»arch-appä¸­åˆ†ç¦»å‡ºarch-app-beanï¼Œarch-domainå¼•ç”¨arch-app-bean</p></li><li><p>arch-clientä¸­å¦‚ä½•æä¾›æ‰©å±•ç‚¹ç»™ä¸šåŠ¡ä½¿ç”¨æ–¹åšä¸šåŠ¡é™çº§?
é€šè¿‡Springæä¾›çš„ApplicationContextè·å–ä¸šåŠ¡ä½¿ç”¨æ–¹è‡ªå®šä¹‰çš„é™çº§å¯¹è±¡</p></li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">@FeignClient(value = &quot;xxx&quot;, path = &quot;api/v1/xxx&quot;, fallbackFactory = XXXClientFallbackFactory.class)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public interface IXXXClient extends IXXXApi {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping(value = &quot;xxxAction&quot;, method = RequestMethod.GET)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ResponseEntityDTO&lt;DemoRespDTO&gt; xxxAction(@RequestParam(value = &quot;name&quot;) String name);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@Component</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public class XXXClientFallbackFactory  extends AbstractFallbackFactory&lt;IXXXClient&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @Value(&quot;${xxx.xxxClientExtend}&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    private String xxxClientExtend;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @Autowired</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ApplicationContext appContext;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public IXXXClientClient createCustomObject() {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if (appContext != null){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            if (StringUtils.isNotBlank(xxxClientExtend)){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                return  (IXXXClientClient) appContext.getBean(xxxClientExtend);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return null;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@Slf4j</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public abstract  class AbstractFallbackFactory&lt;T&gt; implements FallbackFactory&lt;T&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public abstract T createCustomObject();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @SuppressWarnings(&quot;unchecked&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public T create(Throwable cause) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        T obj = createCustomObject();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if (obj != null){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            return obj;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return (T) Proxy.newProxyInstance(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                getEntityClass().getClassLoader(),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                new Class[] { getEntityClass() }, new FeignExceptionHandler(cause));</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    private Class getEntityClass() {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Class clazz = getClass();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Type type = clazz.getGenericSuperclass();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ParameterizedType p = (ParameterizedType)type;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return (Class) p.getActualTypeArguments()[0];</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    class FeignExceptionHandler implements InvocationHandler {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        private Throwable cause;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        FeignExceptionHandler(Throwable cause) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            this.cause = cause;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        @Override</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        public Object invoke(Object proxy, Method method, Object[] args) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            log.error(&quot;invoke failed, error message:{}&quot;, cause.getMessage());</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            return ResponseEntityDTO.failure(ResponseCode.FAILED);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p><strong>Tips:</strong> </p><ul><li>ä¼˜åŒ–ç‰ˆæœ¬V1 åœ¨åŸæ¥çš„åŸºç¡€ä¸Šå¤šå¢åŠ äº†ä¸¤å±‚ç»“æ„ï¼šarch-api-beanå’Œarch-app-beanï¼Œä½¿å¾—éª¨æ¶æ˜¾å¾—è‡ƒè‚¿ã€‚èƒ½ä¸èƒ½æŠ½å–å‡ºarch-beanï¼Œç”¨äºæ”¾ç½®å„ç§ç±»å‹çš„beanï¼Ÿ</li><li>åˆ›å»ºæ‰©å±•ç‚¹å¯¹è±¡æ˜¯arch-clientçš„èŒè´£å—ï¼Ÿ</li></ul><p>è¿™ä¸¤ä¸ªé—®é¢˜ç•™ç»™è¯»è€…æ€è€ƒï¼Œå¦‚æœ‰ç–‘é—®è¯·é€šè¿‡æ–‡æœ«çš„<a href="#%E8%81%94%E7%B3%BB%E6%96%B9%E5%BC%8F">è”ç³»æ–¹å¼</a>ä¸æˆ‘æ²Ÿé€š</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä¼˜åŒ–ç‰ˆæœ¬v2"></a>ä¼˜åŒ–ç‰ˆæœ¬V2<a class="hash-link" href="#ä¼˜åŒ–ç‰ˆæœ¬v2" title="Direct link to heading">#</a></h3><ol><li>è°ƒæ•´æ¨¡å‹çš„ä¾èµ–ç»“æ„ï¼Œä¼˜åŒ–<a href="#%E4%BC%98%E5%8C%96%E7%89%88%E6%9C%ACv1">ä¼˜åŒ–ç‰ˆæœ¬V1</a>ä¸­çš„ä¼˜åŒ–ç‚¹1ã€2ï¼Œè°ƒæ•´åçš„ç»“æ„è§ä¸‹å›¾
<img alt="software-design" src="/assets/images/software-multitier-inner-structure-84cc0e6a98988e14db6a3fec55e0f989.jpg"></li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€arch-app</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€arch-domain</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚  â”œâ”€model</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚  â”‚  â”œâ”€converter # ç”¨äºå­˜æ”¾å®ä½“æ¨¡å‹è½¬æ¢</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚  â”‚  â”œâ”€do        # é¢†åŸŸå®ä½“æ¨¡å‹ï¼Œæä¾›æœ¬é¢†åŸŸå†…ä¸šåŠ¡çš„æ–¹æ³•</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚  â”‚  â””â”€vo        # å€¼å®ä½“æ¨¡å‹</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚  â””â”€service      # è½»serviceï¼Œå†…éƒ¨è°ƒç”¨doå¯¹è±¡åŠrepoå®Œæˆä¸šåŠ¡é€»è¾‘</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚      â””â”€facade   # å°è£…å¤šä¸ªserviceçš„å¤æ‚æ“ä½œ</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€arch-dal</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚  â”œâ”€model</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚  â””â”€repo         # å°è£…æ•°æ®è®¿é—®å±‚çš„å¢åˆ æ”¹æŸ¥çš„æ“ä½œ</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€arch-intgr</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚  â”œâ”€facade       # ç¬¬ä¸‰æ–¹æ¥å£å‡ºå…¥å‚é€‚é…å±‚</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚  â””â”€model        # ç”¨äºå­˜æ”¾ç¬¬ä¸‰æ–¹å®ä½“æ¨¡å‹</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€arch-utils</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€arch-api</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚  â””â”€model</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€arch-client</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p><strong>Tips:</strong></p><ul><li>arch-appä¸­@RestControllerä¸‹çš„æ¥å£å®ç°arch-apiåŒ…ä¸‹çš„APIæ¥å£ã€‚</li><li>arch-domainä¸­serviceåŒ…ä¸‹çš„æ¥å£ç»§æ‰¿è‡ªarch-apiåŒ…ä¸‹çš„APIæ¥å£ã€‚ä¸ºä»€ä¹ˆè¦ç»§æ‰¿APIæ¥å£ï¼Ÿè¿™ä¸ªé—®é¢˜ç•™ç»™è¯»è€…æ€è€ƒï¼Œå¦‚æœ‰ç–‘é—®è¯·é€šè¿‡æ–‡æœ«çš„<a href="#%E8%81%94%E7%B3%BB%E6%96%B9%E5%BC%8F">è”ç³»æ–¹å¼</a>ä¸æˆ‘æ²Ÿé€š</li><li>arch-apiæ¥å£æ–¹æ³•ä¸­åŠ å…¥@RequestMappingã€@RequestBodyã€@RequestParamï¼Œé¿å…arch-clientå’Œarch-appåšç›¸åŒçš„æ“ä½œ</li><li>arch-utilæ”¾åœ¨æ€»çš„pomä¸­ï¼Œæ¨ªè·¨arch-dalã€arch-intgrã€arch-domainã€arch-app</li></ul></blockquote><ol><li>è°ƒæ•´arch-clientä¸­æ‰©å±•ç‚¹çš„ä»£ç ï¼Œä¼˜åŒ–<a href="#%E4%BC%98%E5%8C%96%E7%89%88%E6%9C%ACv1">ä¼˜åŒ–ç‰ˆæœ¬V1</a>ä¸­çš„ä¼˜åŒ–ç‚¹3ï¼Œè°ƒæ•´åçš„ä»£ç å¦‚ä¸‹</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">@Component</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public class XXXClientFallbackFactory extends GenericFallbackFactory&lt;IXXXApi&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public XXXClientFallbackFactory(){}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public XXXClientFallbackFactory(IXXXApi xxxApi){super(xxxApi);}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@Slf4j</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public  class GenericFallbackFactory&lt;T&gt; implements FallbackFactory&lt;T&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public GenericFallbackFactory(){}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public GenericFallbackFactory(T extend){this.extend = extend;}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    protected   T extend;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    @SuppressWarnings(&quot;unchecked&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public T create(Throwable cause) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        log.trace(&quot;fallback due to:{}&quot;, cause.getMessage(), cause);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if (extend != null){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            log.debug(&quot;switch to extend fallback:{}&quot;, extend.getClass().getName());</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return extend;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public class ResponseEntityDTO&lt;T&gt; implements Serializable {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    private static final long serialVersionUID = -8567541939288898127L;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public static final ResponseEntityDTO SUCCEED = new ResponseEntityDTO(ResponseCode.SUCCEED);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public static final ResponseEntityDTO FAILED = new ResponseEntityDTO(ResponseCode.FAILED);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public static &lt;T&gt; boolean successAndDataNotNull(ResponseEntityDTO&lt;T&gt; resp){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return success(resp) &amp;&amp; resp.data != null;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public static &lt;T&gt; boolean success(ResponseEntityDTO&lt;T&gt; resp){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return resp == null ? false:resp.succeed();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public static &lt;T&gt; ResponseEntityDTO&lt;T&gt; safeWrap(ResponseEntityDTO&lt;T&gt; resp){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return resp==null?FAILED: resp;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    T data;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    String message;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Integer errCode;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public boolean succeed() {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return errCode==0;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    public ResponseEntityDTO(ResponseCode code){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        message = code.getMessage();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        errCode = code.getCode();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // æ­¤å¤„çœç•¥å…¶ä»–ä»£ç </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p><strong>Tips:</strong></p><ul><li>å°†åˆ›å»ºæ‹“å±•ç‚¹çš„ä»»åŠ¡äº¤ç»™ä¸šåŠ¡ä½¿ç”¨æ–¹ï¼Œä¸šåŠ¡ä½¿ç”¨æ–¹ä½¿ç”¨@Beanå‘ŠçŸ¥Springå¦‚ä½•æ„å»ºå¯¹è±¡ï¼Œå¹¶å°†æ‹“å±•çš„xxxApiä¼ å…¥åˆ°XXXClientFallbackFactoryå¯¹è±¡ä¸­</li><li>å®ç°FallbackFactoryæ¥å£çš„ç›®çš„åªæ˜¯ä¸ºäº†çŸ¥æ™“è¯·æ±‚å¤±è´¥çš„åŸå› ï¼Œæ¯”å¦‚ï¼šæœåŠ¡downæœºã€ç½‘ç»œè¶…æ—¶ç­‰ï¼Œæ‰€ä»¥GenericFallbackFactoryä¸­åªè¦è®°å½•ä¸‹æ—¥å¿—å°±å¯ä»¥äº†</li><li>å½“ä¸šåŠ¡ä½¿ç”¨æ–¹æä¾›äº†æ‹“å±•ç‚¹ï¼Œåˆ™ä½¿ç”¨ä¸šåŠ¡æ–¹æä¾›çš„æ‹“å±•ç‚¹ï¼Œå¦åˆ™ä¸ä¼šåšä»»ä½•å¤„ç†ã€‚ä¸ºä»€ä¹ˆä¸åœ¨GenericFallbackFactoryä¸­æ„é€ æ–°çš„å¯¹è±¡ä»è€Œåœ¨æ–¹æ³•ä¸­è¿”å›é»˜è®¤çš„è¿”å›ä½“ï¼Ÿè¿™ä¸ªé—®é¢˜ç•™ç»™è¯»è€…æ€è€ƒï¼Œå¦‚æœ‰ç–‘é—®è¯·é€šè¿‡æ–‡æœ«çš„<a href="#%E8%81%94%E7%B3%BB%E6%96%B9%E5%BC%8F">è”ç³»æ–¹å¼</a>ä¸æˆ‘æ²Ÿé€š</li><li>é€šè¿‡ResponseEntityDTOä¸­çš„successã€successAndDataNotNullå¯¹arch-clientè¿”å›ä½“åšæ ¡éªŒï¼ŒsafeWrapç”¨äºarch-appå±‚ï¼ŒåŒ…è£…arch-domainå±‚çš„è¿”å›ä½“</li></ul></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä¼˜åŒ–ç‰ˆæœ¬v3"></a>ä¼˜åŒ–ç‰ˆæœ¬V3<a class="hash-link" href="#ä¼˜åŒ–ç‰ˆæœ¬v3" title="Direct link to heading">#</a></h3><ul><li>ç›®å‰çš„éª¨æ¶éƒ½æ˜¯é€šè¿‡å†™å¥½çš„æ¨¡æ¿ï¼Œæä¾›å‡ºå»ã€‚å¯ä»¥é€šè¿‡ä¸€ç§è‡ªç”±çš„æ–¹å¼è®©ç”¨æˆ·å»é€‰æ‹©æƒ³è¦ç”Ÿæˆçš„éª¨æ¶åŠä½¿ç”¨çš„ç»„ä»¶ç­‰ã€‚è¯»è€…å¯ä»¥å‚è€ƒ<a href="https://start.aliyun.com/" target="_blank" rel="noopener noreferrer">Aliyun Java Initializer</a>çš„å®ç°</li><li>é’ˆå¯¹ä¸åŒçš„ä¸šåŠ¡æä¾›ä¸åŒçš„éª¨æ¶</li><li><a href="#%E4%BC%98%E5%8C%96%E7%89%88%E6%9C%ACv2">ä¼˜åŒ–ç‰ˆæœ¬V2</a>çš„æ–¹å¼èƒ½å¤Ÿæ»¡è¶³å•ä¸€æŠ€æœ¯æ ˆçš„è¯‰æ±‚ï¼Œä½†æ˜¯å¯¹äºå¤šæŠ€æœ¯æ ˆæ˜¾å¾—æ— åŠ›ã€‚<a href="#%E4%BC%98%E5%8C%96%E7%89%88%E6%9C%ACv2">ä¼˜åŒ–ç‰ˆæœ¬V2</a>çš„æ–¹å¼æœ¬è´¨ä¸Šè¿˜æ˜¯åŸºäºå¥‘çº¦ç¼–ç¨‹ã€‚å¯ä»¥ä»æ–‡æ¡£å¥‘çº¦ä¸Šå»æ€è€ƒï¼Œ
å®šä¹‰æ¥å£æ— éæ˜¯å®šä¹‰å¥½æ¥å£çš„å‡ºå…¥å‚ä»¥åŠæ–¹æ³•åã€‚è¿™å—å¯ä»¥åŸºäº<a href="https://www.openapis.org/" target="_blank" rel="noopener noreferrer">openapi</a>å»åšï¼Œå½“æ¥å£å®šä¹‰å®Œæ¯•å¯å‘å¸ƒæ—¶ã€‚æ¥å£çš„ä½¿ç”¨æ–¹ï¼Œå¯ä»¥åœ¨æ¥å£æ–‡æ¡£çš„å¹³å°ä¸­ç”Ÿæˆå„è‡ªæŠ€æœ¯æ ˆçš„åŸºäºå½“å‰æ–‡æ¡£åº“ç‰ˆæœ¬å·å¯¹åº”çš„åº“ï¼Œå†ç»†åŒ–çš„å¯ä»¥ç”Ÿæˆå½“å‰æŠ€æœ¯æ ˆä½¿ç”¨çš„æ¡†æ¶(spring cloudã€dubboã€grpcç­‰)å¯¹åº”çš„åº“(libã€dllã€jarç­‰)</li><li>å¾€å¾€è§„èŒƒçš„å‡ºå‘ç‚¹éƒ½æ˜¯å¥½çš„ï¼Œå¦‚ä½•ä¿è¯ä½¿ç”¨éª¨æ¶çš„äººæŒ‰ç…§è§„èŒƒå»æ‰§è¡Œï¼Ÿå¯ä»¥é€šè¿‡æä¾›å„ç§ide(vscodeã€ideaç­‰)æ’ä»¶ï¼Œå»æç¤ºç”¨æˆ·ã€‚å³ä½¿æç¤ºäº†ï¼Œç”¨æˆ·è¿˜æ˜¯æ²¡æœ‰æ‰§è¡Œã€‚è¿™æ—¶å¯ä»¥é€šè¿‡éª¨æ¶è´¨æ£€å¹³å°ï¼Œæ‰«ææ¥å…¥éª¨æ¶çš„ä¸šåŠ¡ä»£ç åº“ï¼Œå®šæœŸåšè´¨æ£€åˆ†æã€‚è¿™å—å¯ä»¥åŸºäº<a href="https://www.archunit.org/" target="_blank" rel="noopener noreferrer">archunit</a>å»åš</li><li>æ­¤å¤„ç•™ç»™è¯»è€…æ€è€ƒï¼Œå¦‚æœä½ æœ‰å…¶ä»–å¥½çš„æƒ³æ³•ï¼Œè¯·é€šè¿‡æ–‡æœ«çš„<a href="#%E8%81%94%E7%B3%BB%E6%96%B9%E5%BC%8F">è”ç³»æ–¹å¼</a>ä¸æˆ‘æ²Ÿé€š</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ç»“è¯­"></a>ç»“è¯­<a class="hash-link" href="#ç»“è¯­" title="Direct link to heading">#</a></h3><blockquote><ul><li>ä¸æ–­çš„ä¼˜åŒ–è®¾è®¡ï¼Œæ˜¯ä¸ºäº†ä½¿ç”¨çš„äººèƒ½å¤Ÿæ›´é«˜æ•ˆå¹¶å¿«ä¹çš„å·¥ä½œ</li><li>æ‰€æœ‰çš„è½¯ä»¶è®¾è®¡å¹¶ä¸æ˜¯ä¸€è¹´è€Œå°±çš„</li><li>è½¯ä»¶æ˜¯è¦åˆ†å±‚çš„ï¼Œä½†ä¹Ÿè¦æ³¨æ„ç²’åº¦ã€‚æ¯”è¾ƒçš„å…¸å‹çš„æ¡ˆä¾‹:TCP/IP VS OSI/RM</li><li>ä¸€ä¸ªå¥½çš„è½¯ä»¶è®¾è®¡è€…ï¼Œä¸€å®šæ˜¯ä¸€ä¸ªå¥½çš„äº§å“è®¾è®¡è€…</li><li>è½¯ä»¶çš„è®¾è®¡æœ€ç»ˆä¸€å®šè¦å½¢æˆé—­ç¯</li><li>è½¯ä»¶çš„è®¾è®¡æ˜¯åŸºäºç‰¹å®šçš„ä¸šåŠ¡ä½¿ç”¨åœºæ™¯çš„</li></ul></blockquote><p>ä»Šå¤©æ˜¯æ¯äº²èŠ‚ï¼Œç¥å¤©ä¸‹æ‰€æœ‰çš„æ¯äº²èŠ‚æ—¥å¿«ä¹!</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="è”ç³»æ–¹å¼"></a>è”ç³»æ–¹å¼<a class="hash-link" href="#è”ç³»æ–¹å¼" title="Direct link to heading">#</a></h3><ul><li>æ¬¢è¿è®¢é˜…æˆ‘çš„å…¬ä¼—å·ï¼Œè¿™é‡Œä¸»è¦ä¼šå‘è¡¨äº›è½¯ä»¶å·¥ç¨‹ä¸Šçš„ä¸€äº›æƒ³æ³•åŠå®è·µ
<img alt="å¾®ä¿¡å…¬ä¼—å·" src="/assets/images/weixin-87aa5dc8406a7bddb435f74a81d745e9.jpg"></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><a class="margin-horiz--sm" href="/blog/tags/design">design</a></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/doc1">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/doc1">Second Doc</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/lokiworks/lokiworks.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 lokiworks, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.90d50ffe.js"></script>
<script src="/assets/js/main.76acd87f.js"></script>
</body>
</html>